<div class="container">
  <h2>Crear Evento</h2>
<<<<<<< HEAD
  
  <form [formGroup]="eventForm" (ngSubmit)="onSubmit()" class="event-form">
    <div class="main-layout">
      <!-- Columna Izquierda -->
      <div class="left-column">
        
        <!-- Información del evento -->
        <div class="info-card">
          <h3 class="card-title">Información del evento</h3>

          <div class="form-row">
            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Nombre del Evento</mat-label>
                <input matInput formControlName="name" placeholder="Enter event name">
              </mat-form-field>
            </div>

            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Descripción del Evento</mat-label>
                <textarea matInput formControlName="description" rows="3" placeholder="Describe tu evento"></textarea>
              </mat-form-field>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Fecha y hora de Inicio</mat-label>
                <input matInput [matDatepicker]="startPicker" formControlName="eventStart" placeholder="MM / DD / YYYY">
                <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
                <mat-datepicker #startPicker></mat-datepicker>
              </mat-form-field>
            </div>
            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Fecha y hora Fin</mat-label>
                <input matInput [matDatepicker]="endPicker" formControlName="eventEnd" placeholder="Select end date and time">
                <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
                <mat-datepicker #endPicker></mat-datepicker>
              </mat-form-field>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group toggle-group">
              <div class="toggle-field">
                <span class="toggle-label">Múltiples Jornadas</span>
                <mat-slide-toggle formControlName="multipleJornadas"></mat-slide-toggle>
              </div>
            </div>
            <div class="form-group toggle-group">
              <div class="toggle-field">
                <span class="toggle-label">Repetir Evento</span>
                <mat-slide-toggle formControlName="repeatEvent"></mat-slide-toggle>
              </div>
            </div>
          </div>
        </div>

        <!-- Acceso al Evento -->
        <div class="access-card">
          <h3 class="card-title">Acceso al Evento</h3>
          
          <div class="access-options">
            <mat-radio-group formControlName="accessType" class="access-radio-group">
              <div class="access-radio-option" [class.selected]="eventForm.get('accessType')?.value === 'public'">
                <mat-radio-button value="public">
                  <div class="access-content">
                    <div class="access-title">
                      <mat-icon class="access-icon">public</mat-icon>
                      Todo al público
                    </div>
                    <div class="access-description">Cualquier persona puede acceder al evento</div>
                  </div>
                </mat-radio-button>
              </div>
              
              <div class="access-radio-option" [class.selected]="eventForm.get('accessType')?.value === 'private'">
                <mat-radio-button value="private">
                  <div class="access-content">
                    <div class="access-title">
                      <mat-icon class="access-icon">lock</mat-icon>
                      Acceso privado
                    </div>
                    <div class="access-description">Solo personas autorizadas pueden acceder</div>
                  </div>
                </mat-radio-button>
              </div>
            </mat-radio-group>
          </div>
        </div>

        <!-- Filtros Avanzados -->
        <div class="filters-card">
          <h3 class="card-title">Filtros Avanzados</h3>
          
          <div class="form-row">
            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Perfiles</mat-label>
                <mat-select formControlName="profiles" multiple placeholder="Seleccionar perfil">
                  <mat-option *ngFor="let profile of profilesOptions" [value]="profile.id">
                    {{ profile.name }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>

            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Unidades Organizativas</mat-label>
                <mat-select formControlName="organizationalUnits" multiple placeholder="Seleccionar unidades">
                  <mat-option *ngFor="let unit of organizationalUnitOptions" [value]="unit.id">
                    {{ unit.name }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Divisiones</mat-label>
                <mat-select formControlName="divisions" multiple placeholder="Seleccionar divisiones">
                  <mat-option *ngFor="let division of internalDivisionOptions" [value]="division.id">
                    {{ division.name }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>

            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Código</mat-label>
                <input matInput formControlName="code" placeholder="Código (auto si vacío)">
              </mat-form-field>
            </div>
          </div>

          <!-- Campos ocultos para mantener compatibilidad -->
          <div style="display: none;">
            <mat-form-field>
              <input matInput formControlName="eventTypeId" [value]="1">
            </mat-form-field>
            <mat-form-field>
              <input matInput formControlName="sheduleId" [value]="1">
            </mat-form-field>
          </div>
        </div>
      </div>

      <!-- Columna Derecha -->
      <div class="right-column">
        <!-- Puntos de Acceso -->
        <div class="access-points-card">
          <div class="access-points-header">
            <h3 class="card-title">Puntos de Acceso</h3>
            <button mat-raised-button color="primary" class="add-btn" (click)="openAddAccessPointDialog()">
              <mat-icon>add</mat-icon> Agregar
            </button>
          </div>

          <!-- Lista de puntos de acceso seleccionados -->
          <div class="access-points-table" *ngIf="accessPoints.length > 0">
            <div class="table-header">
              <span class="header-cell">NOMBRE</span>
              <span class="header-cell">TIPO</span>
              <span class="header-cell">ACCIONES</span>
            </div>
            <div class="table-body">
              <div *ngFor="let ap of accessPoints; let i = index" class="table-row">
                <span class="table-cell">{{ ap.name }}</span>
                <span class="table-cell type-cell">{{ getAccessPointTypeName(ap.typeId) }}</span>
                <span class="action-cell">
                  <button mat-button class="delete-btn" (click)="deleteAccessPoint(i)">Delete</button>
                </span>
              </div>
            </div>
          </div>

          <!-- Estado vacío -->
          <div class="empty-state" *ngIf="accessPoints.length === 0">
            <mat-icon class="empty-icon">location_on</mat-icon>
            <p>No hay puntos de acceso agregados</p>
            <p class="empty-description">Agrega puntos de acceso para tu evento</p>
          </div>

          <!-- Mini-form para agregar AP (oculto por defecto) -->
          <div class="ap-mini-form" *ngIf="showAddForm">
            <div class="form-row">
              <div class="form-group">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Nombre del Punto</mat-label>
                  <input matInput formControlName="apName" placeholder="Entrada Norte">
                </mat-form-field>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Tipo</mat-label>
                  <mat-select formControlName="apTypeId" placeholder="Seleccionar tipo">
                    <mat-option [value]="1">Entrance</mat-option>
                    <mat-option [value]="2">Exit</mat-option>
                    <mat-option [value]="3">Both</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Descripción</mat-label>
                  <input matInput formControlName="apDescription" placeholder="Puerta principal">
                </mat-form-field>
              </div>
            </div>
            <div class="form-actions-mini">
              <button mat-button type="button" (click)="cancelAddAccessPoint()">Cancelar</button>
              <button mat-raised-button color="primary" type="button" (click)="addAccessPointManual()">
                Agregar punto
              </button>
            </div>
          </div>
=======

  <form [formGroup]="eventForm" (ngSubmit)="onSubmit()">
    <!-- Primera fila: Nombre y Descripción -->
    <div class="form-row">
      <div class="form-column">
        <label class="field-label">Nombre del Evento</label>
        <mat-form-field appearance="fill" class="full-width">
          <input matInput formControlName="name" placeholder="Enter event name">
        </mat-form-field>
      </div>
      <div class="form-column">
        <label class="field-label">Descripción del Evento</label>
        <mat-form-field appearance="fill" class="full-width">
          <textarea matInput formControlName="description" rows="3" placeholder="Describe tu evento"></textarea>
        </mat-form-field>
      </div>
    </div>

    <!-- Segunda fila: Fechas -->
    <div class="form-row">
      <div class="form-column">
        <label class="field-label">Fecha y hora de Inicio</label>
        <mat-form-field appearance="fill" class="full-width">
          <input matInput [matDatepicker]="startPicker" formControlName="eventStart" placeholder="MM / DD / YYYY">
          <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
          <mat-datepicker #startPicker></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="form-column">
        <label class="field-label">Fecha y hora Fin</label>
        <mat-form-field appearance="fill" class="full-width">
          <input matInput [matDatepicker]="endPicker" formControlName="eventEnd" placeholder="Select end date and time">
          <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
          <mat-datepicker #endPicker></mat-datepicker>
        </mat-form-field>
      </div>
    </div>

    <!-- Tercera fila: Toggles -->
    <div class="form-row">
      <div class="form-column">
        <div class="toggle-field">
          <span class="toggle-label">Múltiples Jornadas</span>
          <mat-slide-toggle formControlName="multipleJourneys" color="accent"></mat-slide-toggle>
        </div>
      </div>
      <div class="form-column">
        <div class="toggle-field">
          <span class="toggle-label">Repetir Evento</span>
          <mat-slide-toggle formControlName="repeatEvent" color="accent"></mat-slide-toggle>
>>>>>>> c56a32e10b106e304da0a2263168acd074e7bc84
        </div>
      </div>
    </div>

<<<<<<< HEAD
    <!-- Botón crear evento -->
    <div class="form-actions">
      <button mat-raised-button color="primary" type="submit" class="create-btn">
=======
    <!-- Sección de Acceso al Evento y Puntos de Acceso -->
    <div class="form-row">
      <!-- Columna izquierda: Acceso al Evento y Filtros -->
      <div class="form-column">
        <div class="section-card">
          <h3 class="section-title">Acceso al Evento</h3>
          <div class="access-options">
            <mat-radio-group formControlName="accessType" class="access-radio-group">
              <mat-radio-button value="public" class="access-radio">
                <mat-icon class="access-icon">public</mat-icon>
                <div class="access-content">
                  <span class="access-title">Todo el público</span>
                  <span class="access-description">Cualquier persona puede acceder al evento</span>
                </div>
              </mat-radio-button>
              <mat-radio-button value="private" class="access-radio">
                <mat-icon class="access-icon">lock</mat-icon>
                <div class="access-content">
                  <span class="access-title">Acceso privado</span>
                  <span class="access-description">Solo personas autorizadas pueden acceder</span>
                </div>
              </mat-radio-button>
            </mat-radio-group>
          </div>

          <div class="filters-section">
            <h4 class="filter-title">Filtros Avanzados</h4>
            
            <div class="filter-group">
              <label class="filter-label">Perfiles</label>
              <mat-form-field appearance="fill" class="full-width">
                <mat-select formControlName="profiles" placeholder="Seleccionar perfil">
                  <mat-option value="profile1">Perfil 1</mat-option>
                  <mat-option value="profile2">Perfil 2</mat-option>
                </mat-select>
              </mat-form-field>
            </div>

            <div class="filter-group">
              <label class="filter-label">Unidades Organizativas</label>
              <mat-form-field appearance="fill" class="full-width">
                <mat-select formControlName="organizationalUnits" placeholder="Seleccionar unidades">
                  <mat-option value="unit1">Unidad 1</mat-option>
                  <mat-option value="unit2">Unidad 2</mat-option>
                </mat-select>
              </mat-form-field>
            </div>

            <div class="filter-group">
              <label class="filter-label">Divisiones</label>
              <mat-form-field appearance="fill" class="full-width">
                <mat-select formControlName="divisions" placeholder="Seleccionar divisiones">
                  <mat-option value="division1">División 1</mat-option>
                  <mat-option value="division2">División 2</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
        </div>
      </div>

      <!-- Columna derecha: Puntos de Acceso -->
      <div class="form-column">
        <div class="section-card">
          <h3 class="section-title">Puntos de Acceso</h3>
          <div class="access-points-table">
            <div class="table-header">
              <span class="header-cell">Nombre</span>
              <span class="header-cell">Tipo</span>
              <span class="header-cell">Acciones</span>
            </div>
            <div class="table-row">
              <span class="table-cell">Main Entrance</span>
              <span class="table-cell type-cell">Entrance</span>
              <span class="table-cell action-cell">
                <button mat-button class="delete-btn">Delete</button>
              </span>
            </div>
            <div class="table-row">
              <span class="table-cell">Exit 1</span>
              <span class="table-cell type-cell">Exit</span>
              <span class="table-cell action-cell">
                <button mat-button class="delete-btn">Delete</button>
              </span>
            </div>
            <div class="table-row">
              <span class="table-cell">VIP Lounge</span>
              <span class="table-cell type-cell">Both</span>
              <span class="table-cell action-cell">
                <button mat-button class="delete-btn">Delete</button>
              </span>
            </div>
          </div>
          <button mat-button class="add-btn">Agregar</button>
        </div>
      </div>
    </div>

    <!-- Botón de crear evento -->
    <div class="form-actions">
      <button mat-raised-button type="submit" class="create-btn">
>>>>>>> c56a32e10b106e304da0a2263168acd074e7bc84
        Crear Evento
      </button>
    </div>
  </form>
</div>