<app-generic-list-card
  [title]="'Puntos de Acceso'"
  [dataSourceInput]="accessPoints"
  [pageSize]="6"
  [customTemplates]="{ meta: metaTpl }"
  (onCreate)="create()"
  (onView)="view($event)"
  (onEdit)="edit($event)"
  (onDelete)="remove($event)"
  (onToggleStatus)="toggle($event)">
</app-generic-list-card>

<ng-template #metaTpl let-ap>
  <div class="ap-meta">
    <span *ngIf="ap.description">{{ ap.description }}</span>
    <div *ngIf="ap.qrCodeKey" class="ap-qr-small">
      <img [src]="'data:image/png;base64,' + ap.qrCodeKey" alt="QR" class="qr-small" (click)="enlargeQr(ap.qrCodeKey)">
    </div>
  </div>
</ng-template>

<!-- Modal para QR agrandado -->
<div *ngIf="enlargedQr" class="qr-modal-overlay" (click)="enlargedQr = null">
  <div class="qr-modal-content" (click)="$event.stopPropagation()">
    <img [src]="'data:image/png;base64,' + enlargedQr" alt="QR Agrandado" class="qr-large">
    <button class="close-btn" (click)="enlargedQr = null">Cerrar</button>
  </div>
</div>
