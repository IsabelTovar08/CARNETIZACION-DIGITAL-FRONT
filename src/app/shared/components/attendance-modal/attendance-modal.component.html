<h2 mat-dialog-title class="dialog-title">
  <mat-icon class="title-icon">groups</mat-icon>
  Asistentes al Evento: {{ data.eventName }}
</h2>
<mat-dialog-content class="dialog-content">
  <mat-form-field appearance="outline" class="search-field">
    <mat-label>Buscar asistente</mat-label>
    <input matInput [(ngModel)]="searchTerm" placeholder="Nombre, apellido, documento o email">
    <mat-icon matSuffix>search</mat-icon>
  </mat-form-field>
  <div class="table-container" *ngIf="filteredAttendances.length > 0; else noData">
    <table mat-table [dataSource]="filteredAttendances" class="attendance-table mat-elevation-z8">
      <ng-container matColumnDef="personFullName">
        <th mat-header-cell *matHeaderCellDef class="header-cell">Nombre Completo</th>
        <td mat-cell *matCellDef="let element" class="body-cell">{{ element.personFullName }}</td>
      </ng-container>
      <ng-container matColumnDef="timeOfEntryStr">
        <th mat-header-cell *matHeaderCellDef class="header-cell">
          <mat-icon class="header-icon">schedule</mat-icon>
          Hora de Entrada
        </th>
        <td mat-cell *matCellDef="let element" class="body-cell">{{ element.timeOfEntryStr }}</td>
      </ng-container>
      <ng-container matColumnDef="timeOfExitStr">
        <th mat-header-cell *matHeaderCellDef class="header-cell">
          <mat-icon class="header-icon">schedule</mat-icon>
          Hora de Salida
        </th>
        <td mat-cell *matCellDef="let element" class="body-cell">{{ element.timeOfExitStr || 'N/A' }}</td>
      </ng-container>
      <ng-container matColumnDef="accessPointOfEntryName">
        <th mat-header-cell *matHeaderCellDef class="header-cell">
          <mat-icon class="header-icon">location_on</mat-icon>
          Punto de Entrada
        </th>
        <td mat-cell *matCellDef="let element" class="body-cell">{{ element.accessPointOfEntryName }}</td>
      </ng-container>
      <ng-container matColumnDef="accessPointOfExitName">
        <th mat-header-cell *matHeaderCellDef class="header-cell">
          <mat-icon class="header-icon">location_on</mat-icon>
          Punto de Salida
        </th>
        <td mat-cell *matCellDef="let element" class="body-cell">{{ element.accessPointOfExitName || 'N/A' }}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns" class="header-row"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="body-row"></tr>
    </table>
  </div>
  <ng-template #noData>
    <div class="no-data-container">
      <mat-icon class="no-data-icon">groups</mat-icon>
      <p class="no-data-text">No hay asistentes registrados para este evento.</p>
    </div>
  </ng-template>
</mat-dialog-content>
<mat-dialog-actions align="end" class="dialog-actions">
  <button mat-raised-button color="primary" mat-dialog-close class="close-button">Cerrar</button>
</mat-dialog-actions>