<h1 mat-dialog-title>{{ title }}</h1>
<mat-divider></mat-divider>
<br>
<div mat-dialog-content>
  <form [formGroup]="form">

    <ng-container *ngFor="let field of fields">
      <ng-container *ngIf="!field.hidden">

        <!-- Input normal -->
        <label class="text-xs text-gray-500 mb-1 block tracking-wide">
          {{ field.label }}
        </label>
        <mat-form-field class="w-100" appearance="outline"
          *ngIf="field.type !== 'textarea' && field.type !== 'select'">
          <mat-label>{{ field.label }}</mat-label>
          <input matInput [formControlName]="field.name"
            [type]="field.type || 'text'" />
        </mat-form-field>

        <!-- Textarea -->
        <mat-form-field class="w-100" appearance="outline"
          *ngIf="field.type === 'textarea'">
          <mat-label>{{ field.label }}</mat-label>
          <textarea matInput [formControlName]="field.name"></textarea>
        </mat-form-field>

        <!-- Select -->
        <mat-form-field class="w-100" appearance="outline"
          *ngIf="field.type === 'select'">
          <mat-label>{{ field.label }}</mat-label>
          <mat-select [formControlName]="field.name">
            <mat-option *ngFor="let opt of field.options" [value]="opt.value">
              {{ opt.label }}
            </mat-option>
          </mat-select>
        </mat-form-field>

      </ng-container>
    </ng-container>

  </form>
</div>

<div mat-dialog-actions align="end">
  <button mat-button (click)="cancel()">Cancelar</button>
  <button mat-raised-button color="primary" (click)="save()"
    [disabled]="form.invalid">Guardar</button>
</div>
